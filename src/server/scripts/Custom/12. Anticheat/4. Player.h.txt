1. src/server/game/Entities/Player/Player.h
1.1 Agregar:
        // Set map to player and add reference
        void SetMap(Map* map) override;
        void ResetMap() override;
-
+        bool CanTeleport() { return m_canTeleport; }
        bool isAllowedToLoot(Creature const* creature) const;
-
+        void SetCanTeleport(bool value) { m_canTeleport = value; }
        DeclinedName const* GetDeclinedNames() const { return m_declinedname; }
        uint8 GetRunesState() const { return m_runes->runeState; }
        RuneType GetBaseRune(uint8 index) const { return RuneType(m_runes->runes[index].BaseRune); }

2. src/server/game/Entities/Player/Player.h
2.1 Agregar:
        uint32 m_DelayedOperations;
        bool m_bCanDelayTeleport;
        bool m_bHasDelayedTeleport;
-
+        bool m_canTeleport;
        std::unique_ptr<PetStable> m_petStable;

        // Temporary removed pet cache